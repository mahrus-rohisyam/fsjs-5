<!DOCTYPE html>
<html>
  <head>
    <title>Title of the document</title>
    <style>
      img {
        width: 500px;
        height: 350px;
        display: block;
        margin: 10px auto;
      }
    </style>
  </head>
  <body>
    <img src="https://images.unsplash.com/photo-1482784160316-6eb046863ece?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img src="https://images.unsplash.com/photo-1488441770602-aed21fc49bd5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img src="https://images.unsplash.com/photo-1426604966848-d7adac402bff?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjExMDk0fQ&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1545105511-839f4a45a030?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1493246507139-91e8fad9978e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1473800447596-01729482b8eb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1491250974528-9443b2902f18?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1473800447596-01729482b8eb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1500993855538-c6a99f437aa7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80" loading="lazy" />
    <img class="lazy-load" src="https://images.unsplash.com/photo-1501018313157-78d10f597133?ixlib=rb-1.2.1&auto=format&fit=crop&w=1055&q=80" />
    <script>
      // document.addEventListener("DOMContentLoaded", function() {
      //   let lazyloadImages = document.querySelectorAll("img.lazy-load");
      //   let lazyloadThrottleTimeout;

      //   function lazyload() {
      //     if(lazyloadThrottleTimeout) {
      //       clearTimeout(lazyloadThrottleTimeout);
      //     }
      //     lazyloadThrottleTimeout = setTimeout(function() {
      //       let scrollTop = window.pageYOffset;
      //       lazyloadImages.forEach(function(img) {
      //         if(img.offsetTop < (window.innerHeight + scrollTop)) {
      //           img.src = img.dataset.src;
      //           img.classList.remove('lazy');
      //         }
      //       });
      //       if(lazyloadImages.length == 0) {
      //         document.removeEventListener("scroll", lazyload);
      //         window.removeEventListener("resize", lazyload);
      //         window.removeEventListener("orientationChange", lazyload);
      //       }
      //     }, 20);
      //   }
      //   document.addEventListener("scroll", lazyload);
      //   window.addEventListener("resize", lazyload);
      //   window.addEventListener("orientationChange", lazyload);
      // });
      let options = {
        root: null,
        rootMargin: '0px',
        threshold: 0.25
      };

      let callback = ((entries, observer) => {
        entries.forEach(entry => {
          if(entry.isIntersecting && entry.target.className === "image"){
            let imageUrl = entry.getAttribute("data-src");
            if(imageUrl){
              entry.target.src = imageUrl;
              entry.unobserve(entry.target);
            }
          }
        })
      })
      let observer = new IntersectionObserver(callback, options);
      
    </script>
  </body>
</html>